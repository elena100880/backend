{% extends 'base.html.twig' %}

{% block stylesheets1 %}
    <link rel="stylesheet" href="/css/person1.css">
{% endblock %}

{% block content %}  
    
    <h1>List of Users</h1>   

    {{form(form)}}

    <button type="button"><a class="button" href="{{ path('person') }}">Show all users</a></button>

    <button type="button" id="addbutton"><a class="button" target="_blanc" href="{{ path('person_add') }}">Add new user</a></button>

    {% if not persons %}
            NO MATCHING!!
        {% else %}  
            <table>
                <tr>
                    <th>Login</th>
                    <th>Name</th>
                    <th>Surname</th>
                    <th>State</th>
                    <th>Change the user's information</th>
                </tr>
                
                {% for person in persons %} 
                        <tr>
                            <td> {{person.login}} </td>
                            <td> {{person.iname}} </td>
                            <td> {{person.fname}} </td>
                            <td> {{ person.getStateString }} </td>
                            <td><a target="_blanc" href="{{ path('person_edit', {id: person.id}) }}">edit the user>></a></td>
                        </tr>
                {% endfor %}   
            
            </table>
        {% endif %}  

{% endblock %}  

